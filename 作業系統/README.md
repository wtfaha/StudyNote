# 作業系統
*****
中斷、例外
*****
+ ### 中斷（interrupts）
	有兩種來源：由硬體產生的和由軟體產生的。通常，在硬體週邊設備需要 CPU 時（例如，要跟 CPU 要資料，或是有資料要給 CPU），會對 CPU 發出中斷要求。軟體也可以利用 INT n 指令來對 CPU 發出中斷要求。 

+ ### 例外的型態  
	例外（exceptions）分為三種：程式錯誤例外、軟體產生例外、和機器錯誤例外。程式錯誤例外是在處理器偵測到程式有不合法的行為，或是作業系統發生某些錯誤時，由處理器自動發出的例外。這種例外又可分為三種：  
	
	+ Fault：  
	**這種例外通常是可以更正的，而且在更正後，程式應該可以繼續無誤地進行。**在發生 fault 時，處理器會回到造成 fault 指令之前的狀況。在堆疊中存放的返回位址，存放的是造成 fault 的指令的位址。所以，在例外處理完，返回原程式時，會重新執行原來造成 fault 的指令。正常的話，應該不會再產生 fault。例如，**最常見的 fault 應該是分頁錯誤（Page-fault）**，分頁錯誤的處理程序應該要讀入所需要的分頁，再返回程式中，讓程式可以繼續執行。  
	
	+ Trap：  
	這種例外是在被 trap 的指令執行完後，立刻產生的。因此，它的返回位址是被 trap 的指令的下一個指令。在例外返回後，程式可以正確無誤地斷續執行。如果被 trap 的是一個跳躍指令（例如，JMP 指令）也不會有問題，它的返回位址會是 JMP 指令的目標。  
	
	+ Abort：  
	這種例外是非常嚴重的錯誤，沒有辦法返回原程式繼續執行。通常，只有在機器錯誤、或是在系統表格中有不一致或不合法的數值時，才會出現這種例外。這類例外的處理程序，應該是把錯誤發生時的狀態存下，並儘可能安全地關閉應用程式和系統。  
		
*****
[中斷和例外](https://www.csie.ntu.edu.tw/~wcchen/asm98/asm/proj/b85506061/chap4/overview.html)  


